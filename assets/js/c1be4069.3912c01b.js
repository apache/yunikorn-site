"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[80715],{10629:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>a,frontMatter:()=>u,metadata:()=>i,toc:()=>d});var s=r(13274),c=r(1780);const u={id:"queue",title:"Queue"},o=void 0,i={id:"metrics/queue",title:"Queue",description:"\x3c!--",source:"@site/docs/metrics/queue.md",sourceDirName:"metrics",slug:"/metrics/queue",permalink:"/docs/next/metrics/queue",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"queue",title:"Queue"},sidebar:"docs",previous:{title:"Runtime",permalink:"/docs/next/metrics/runtime"},next:{title:"Troubleshooting",permalink:"/docs/next/user_guide/troubleshooting"}},t={},d=[{value:"Application",id:"application",level:2},{value:"Label",id:"label",level:3},{value:"Subsystem",id:"subsystem",level:3},{value:"Resource",id:"resource",level:2},{value:"Label",id:"label-1",level:3},{value:"Subsystem",id:"subsystem-1",level:3}];function l(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"application",children:"Application"}),"\n",(0,s.jsxs)(n.p,{children:["Each queue has a ",(0,s.jsx)(n.code,{children:"<queue_name> queue_app"})," metric to trace the applications in the queue.\n",(0,s.jsx)(n.code,{children:"<queue_name> queue_app"})," metrics records the number of applications in different states.\nThese application states include ",(0,s.jsx)(n.code,{children:"running"}),", ",(0,s.jsx)(n.code,{children:"accepted"}),", ",(0,s.jsx)(n.code,{children:"rejected"}),", ",(0,s.jsx)(n.code,{children:"failed"})," and ",(0,s.jsx)(n.code,{children:"completed"}),".\n",(0,s.jsx)(n.code,{children:"<queue_name> queue_app"})," metrics record container states including ",(0,s.jsx)(n.code,{children:"released"}),", ",(0,s.jsx)(n.code,{children:"allocated"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Prior to ",(0,s.jsx)(n.code,{children:"1.5.0"})," queue metrics were pushed to a separate subsystem for each queue. In ",(0,s.jsx)(n.code,{children:"1.5.0"}),"\nfixed metrics with ",(0,s.jsx)(n.code,{children:"<queue name>"})," labels were introduced. Metrics using ",(0,s.jsx)(n.code,{children:"<queue name>"})," subsystems\nwill be ",(0,s.jsxs)(n.strong,{children:["deprecated in ",(0,s.jsx)(n.code,{children:"1.6.0"})," and removed in ",(0,s.jsx)(n.code,{children:"1.7.0"})]})," in favor of a ",(0,s.jsx)(n.code,{children:"<queue name>"})," label based approach."]}),"\n",(0,s.jsx)(n.h3,{id:"label",children:"Label"}),"\n",(0,s.jsxs)(n.p,{children:["(Introduced in ",(0,s.jsx)(n.code,{children:"1.5.0"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metric Type"}),": ",(0,s.jsx)(n.code,{children:"gauge"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Namespace"}),": ",(0,s.jsx)(n.code,{children:"yunikorn"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Label"}),": ",(0,s.jsx)(n.code,{children:"queue: <queue name>"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TYPE"}),": ",(0,s.jsx)(n.code,{children:"yunikorn_queue_app"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'yunikorn_queue_app{queue="root.default",state="accepted"} 3\nyunikorn_queue_app{queue="root.default",state="running"} 3\n'})}),"\n",(0,s.jsx)(n.h3,{id:"subsystem",children:"Subsystem"}),"\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsx)(n.tr,{children:(0,s.jsxs)(n.th,{children:["\u2757"," To be deprecated in ",(0,s.jsx)(n.code,{children:"1.6.0"})," and removed in ",(0,s.jsx)(n.code,{children:"1.7.0"})]})})})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metric Type"}),": ",(0,s.jsx)(n.code,{children:"gauge"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Namespace"}),": ",(0,s.jsx)(n.code,{children:"yunikorn"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Subsystem"}),": ",(0,s.jsx)(n.code,{children:"<queue name>"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TYPE"}),": ",(0,s.jsx)(n.code,{children:"yunikorn_<queue name>_queue_app"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'yunikorn_root_default_queue_app{state="accepted"} 3\nyunikorn_root_default_queue_app{state="running"} 3\n'})}),"\n",(0,s.jsx)(n.h2,{id:"resource",children:"Resource"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"<queue_name> queue_resource"})," metric to trace the resource in the queue.\nThese resource states include ",(0,s.jsx)(n.code,{children:"guaranteed"}),", ",(0,s.jsx)(n.code,{children:"max"}),", ",(0,s.jsx)(n.code,{children:"allocated"}),", ",(0,s.jsx)(n.code,{children:"pending"}),", ",(0,s.jsx)(n.code,{children:"preempting"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"label-1",children:"Label"}),"\n",(0,s.jsxs)(n.p,{children:["(Introduced in ",(0,s.jsx)(n.code,{children:"1.5.0"}),")"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metric Type"}),": ",(0,s.jsx)(n.code,{children:"gauge"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Namespace"}),": ",(0,s.jsx)(n.code,{children:"yunikorn"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Label"}),": ",(0,s.jsx)(n.code,{children:"queue: <queue name>"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TYPE"}),": ",(0,s.jsx)(n.code,{children:"yunikorn_queue_resource"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'yunikorn_queue_resource{queue="root",resource="ephemeral-storage",state="max"} 9.41009558e+10\nyunikorn_queue_resource{queue="root",resource="hugepages-1Gi",state="max"} 0\nyunikorn_queue_resource{queue="root",resource="hugepages-2Mi",state="max"} 0\nyunikorn_queue_resource{queue="root",resource="memory",state="max"} 1.6223076352e+10\nyunikorn_queue_resource{queue="root",resource="pods",state="max"} 110\nyunikorn_queue_resource{queue="root",resource="vcore",state="max"} 8000\n'})}),"\n",(0,s.jsx)(n.h3,{id:"subsystem-1",children:"Subsystem"}),"\n",(0,s.jsx)(n.table,{children:(0,s.jsx)(n.thead,{children:(0,s.jsx)(n.tr,{children:(0,s.jsxs)(n.th,{children:["\u2757"," To be deprecated in ",(0,s.jsx)(n.code,{children:"1.6.0"})," and removed in ",(0,s.jsx)(n.code,{children:"1.7.0"})]})})})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Metric Type"}),": ",(0,s.jsx)(n.code,{children:"gauge"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Namespace"}),": ",(0,s.jsx)(n.code,{children:"yunikorn"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Subsystem"}),": ",(0,s.jsx)(n.code,{children:"<queue name>"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"TYPE"}),": ",(0,s.jsx)(n.code,{children:"yunikorn_<queue name>_queue_resource"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'yunikorn_root_queue_resource{resource="ephemeral-storage",state="max"} 9.41009558e+10\nyunikorn_root_queue_resource{resource="hugepages-1Gi",state="max"} 0\nyunikorn_root_queue_resource{resource="hugepages-2Mi",state="max"} 0\nyunikorn_root_queue_resource{resource="memory",state="max"} 1.6223076352e+10\nyunikorn_root_queue_resource{resource="pods",state="max"} 110\nyunikorn_root_queue_resource{resource="vcore",state="max"} 8000\n'})})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},1780:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var s=r(79474);const c={},u=s.createContext(c);function o(e){const n=s.useContext(u);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),s.createElement(u.Provider,{value:n},e.children)}}}]);