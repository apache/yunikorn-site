<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.1.0 plugin-docs plugin-id-default docs-doc-id-developer_guide/deployment">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Deploy to Kubernetes | Apache YuniKorn</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yunikorn.apache.org/img/logo/yunikorn-logo-main.png"><meta data-rh="true" name="twitter:image" content="https://yunikorn.apache.org/img/logo/yunikorn-logo-main.png"><meta data-rh="true" property="og:url" content="https://yunikorn.apache.org/docs/1.1.0/developer_guide/deployment"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.1.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.1.0"><meta data-rh="true" name="docsearch:version" content="1.1.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.1.0"><meta data-rh="true" property="og:title" content="Deploy to Kubernetes | Apache YuniKorn"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/img/yunikorn.ico"><link data-rh="true" rel="canonical" href="https://yunikorn.apache.org/docs/1.1.0/developer_guide/deployment"><link data-rh="true" rel="alternate" href="https://yunikorn.apache.org/docs/1.1.0/developer_guide/deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://yunikorn.apache.org/docs/1.1.0/developer_guide/deployment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q1V951BG2V-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apache YuniKorn" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.891cd0a7.css">
<link rel="preload" href="/assets/js/runtime~main.773b31ce.js" as="script">
<link rel="preload" href="/assets/js/main.cf8e51c0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_Vg54" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_O5ne" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder__a47"></div><div class="content_AZj6 announcementBarContent_HY65">1.5.0 has been released, check the <a href="/community/download">DOWNLOADS</a>.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_ecLh announcementBarClose_RFeM"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/yunikorn_blue_logo.png" alt="YuniKorn Site Logo" class="themedImage_xN_b themedImage--light_zIAV"><img src="/img/logo/yunikorn_white_logo.png" alt="YuniKorn Site Logo" class="themedImage_xN_b themedImage--dark_sQmx"></div><b class="navbar__title text--truncate">Apache YuniKorn</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/community/download">Download</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get_involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/how_to_contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/community/coding_guidelines">Coding Guidelines</a></li><li><a class="dropdown__link" href="/community/reporting_issues">Reporting Issues</a></li><li><a class="dropdown__link" href="/community/release_procedure">Release Procedure</a></li><li><a class="dropdown__link" href="/community/events">Events</a></li><li><a class="dropdown__link" href="/community/people">People</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Apache</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Apache Software Foundation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsors<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy Policy<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/1.1.0/">1.1.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/developer_guide/deployment">Next</a></li><li><a class="dropdown__link" href="/docs/developer_guide/deployment">1.5.0</a></li><li><a class="dropdown__link" href="/docs/1.4.0/developer_guide/deployment">1.4.0</a></li><li><a class="dropdown__link" href="/docs/1.3.0/developer_guide/deployment">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/developer_guide/deployment">1.2.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/1.1.0/developer_guide/deployment">1.1.0</a></li><li><a class="dropdown__link" href="/docs/1.0.0/developer_guide/deployment">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.12.2/developer_guide/deployment">0.12.2</a></li><li><a class="dropdown__link" href="/docs/0.12.1/developer_guide/deployment">0.12.1</a></li><li><a class="dropdown__link" href="/docs/0.11.0/developer_guide/deployment">0.11.0</a></li><li><a class="dropdown__link" href="/docs/0.10.0/developer_guide/deployment">0.10.0</a></li><li><a class="dropdown__link" href="/docs/0.9.0/developer_guide/deployment">0.9.0</a></li><li><a class="dropdown__link" href="/docs/0.8.0/">0.8.0</a></li></ul></div><a href="https://github.com/apache/yunikorn-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Nhsf colorModeToggle_GocH"><button class="clean-btn toggleButton_KQsj toggleButtonDisabled_gRAo" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_KkI6"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_x9vQ"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_NmYg"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_KqcX docsWrapper_FY8D"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_XZ0H" type="button"></button><div class="docPage_CJbk"><aside class="theme-doc-sidebar-container docSidebarContainer_w4gT"><div class="sidebarViewport_vLlY"><div class="sidebar_p4oL"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_NDAw menuWithAnnouncementBar_MCmu"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/1.1.0/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/1.1.0/user_guide/deployment_modes">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/1.1.0/developer_guide/env_setup">Developer Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.0/developer_guide/env_setup">Dev Environment Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.0/developer_guide/build">Build and Run</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.0/developer_guide/dependencies">Go module updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/1.1.0/developer_guide/deployment">Deploy to Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/1.1.0/developer_guide/openshift_development">Development in CodeReady Containers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/1.1.0/design/architecture">Designs</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/1.1.0/performance/evaluate_perf_function_with_kubemark">Performance</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_csu5"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_pqJ4"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apache YuniKorn<!-- --> <b>1.1.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/developer_guide/deployment">latest version</a></b> (<!-- -->1.5.0<!-- -->).</div></div><div class="docItemContainer_fAg1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_N4mS" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_tbEl"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developer Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy to Kubernetes</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.1.0</span><div class="tocCollapsible_b41w theme-doc-toc-mobile tocMobile_WgPf"><button type="button" class="clean-btn tocCollapsibleButton_X28S">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploy to Kubernetes</h1></header><p>The easiest way to deploy YuniKorn is to leverage our <a href="https://hub.helm.sh/charts/yunikorn/yunikorn" target="_blank" rel="noopener noreferrer">helm charts</a>,
you can find the guide <a href="/docs/1.1.0/">here</a>. This document describes the manual process to deploy YuniKorn
scheduler and admission controller. It is primarily intended for developers.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="build-docker-image">Build docker image<a href="#build-docker-image" class="hash-link" aria-label="Direct link to Build docker image" title="Direct link to Build docker image">​</a></h2><p>Under project root of the <code>yunikorn-k8shim</code>, run the command to build an image using the map for the configuration:</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">make image</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command will build an image. The image will be tagged with a default version and image tag.</p><p><strong>Note</strong> the default build uses a hardcoded user and tag. You <em>must</em> update the <code>IMAGE_TAG</code> variable in the <code>Makefile</code> to push to an appropriate repository. </p><p><strong>Note</strong> the latest yunikorn images in docker hub are not updated anymore due to ASF policy. Hence, you should build both scheduler image and web image locally before deploying them.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="setup-rbac-for-scheduler">Setup RBAC for Scheduler<a href="#setup-rbac-for-scheduler" class="hash-link" aria-label="Direct link to Setup RBAC for Scheduler" title="Direct link to Setup RBAC for Scheduler">​</a></h2><p>The first step is to create the RBAC role for the scheduler, see <a href="https://github.com/apache/yunikorn-k8shim/blob/master/deployments/scheduler/yunikorn-rbac.yaml" target="_blank" rel="noopener noreferrer">yunikorn-rbac.yaml</a></p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f scheduler/yunikorn-rbac.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The role is a requirement on the current versions of kubernetes.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="create-the-configmap">Create the ConfigMap<a href="#create-the-configmap" class="hash-link" aria-label="Direct link to Create the ConfigMap" title="Direct link to Create the ConfigMap">​</a></h2><p>This must be done before deploying the scheduler. It requires a correctly setup kubernetes environment.
This kubernetes environment can be either local or remote. </p><ul><li>download configuration file if not available on the node to add to kubernetes:</li></ul><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">curl -o queues.yaml https://raw.githubusercontent.com/apache/yunikorn-k8shim/master/conf/queues.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>create ConfigMap in kubernetes:</li></ul><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create configmap yunikorn-configs --from-file=queues.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>check if the ConfigMap was created correctly:</li></ul><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl describe configmaps yunikorn-configs</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Note</strong> if name of the ConfigMap is changed the volume in the scheduler yaml file must be updated to reference the new name otherwise the changes to the configuration will not be picked up. </p><h2 class="anchor anchorWithStickyNavbar__2jc" id="attach-configmap-to-the-scheduler-pod">Attach ConfigMap to the Scheduler Pod<a href="#attach-configmap-to-the-scheduler-pod" class="hash-link" aria-label="Direct link to Attach ConfigMap to the Scheduler Pod" title="Direct link to Attach ConfigMap to the Scheduler Pod">​</a></h2><p>The ConfigMap is attached to the scheduler as a special volume. First step is to specify where to mount it in the pod:</p><div class="language-yaml codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-yaml codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">volumeMounts</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">mountPath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /etc/yunikorn/</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Second step is to link the mount point back to the configuration map created in kubernetes:</p><div class="language-yaml codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-yaml codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">configMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> yunikorn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">configs</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Both steps are part of the scheduler yaml file, an example can be seen at <a href="https://github.com/apache/yunikorn-k8shim/blob/master/deployments/scheduler/scheduler.yaml" target="_blank" rel="noopener noreferrer">scheduler.yaml</a>
for reference.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="deploy-the-scheduler">Deploy the Scheduler<a href="#deploy-the-scheduler" class="hash-link" aria-label="Direct link to Deploy the Scheduler" title="Direct link to Deploy the Scheduler">​</a></h2><p>The scheduler can be deployed with following command.</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f deployments/scheduler/scheduler.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The deployment will run 2 containers from your pre-built docker images in 1 pod,</p><ul><li>yunikorn-scheduler-core (yunikorn scheduler core and shim for K8s)</li><li>yunikorn-scheduler-web (web UI)</li></ul><p>Alternatively, the scheduler can be deployed as a K8S scheduler plugin:</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f deployments/scheduler/plugin.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The pod is deployed as a customized scheduler, it will take the responsibility to schedule pods which explicitly specifies <code>schedulerName: yunikorn</code> in pod&#x27;s spec. In addition to the <code>schedulerName</code>, you will also have to add a label <code>applicationId</code> to the pod.</p><div class="language-yaml codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-yaml codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> pod_example</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">labels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">applicationId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> appID</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">schedulerName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> yunikorn</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: Admission controller abstracts the addition of <code>schedulerName</code> and <code>applicationId</code> from the user and hence, routes all traffic to YuniKorn. If you use helm chart to deploy, it will install admission controller along with the scheduler. Otherwise, proceed to the steps
below to manually deploy the admission controller if running non-example workloads where <code>schedulerName</code> and <code>applicationId</code> are not present in the pod spec and metadata, respectively.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="setup-rbac-for-admission-controller">Setup RBAC for Admission Controller<a href="#setup-rbac-for-admission-controller" class="hash-link" aria-label="Direct link to Setup RBAC for Admission Controller" title="Direct link to Setup RBAC for Admission Controller">​</a></h2><p>Before the admission controller is deployed, we must create its RBAC role, see <a href="https://github.com/apache/yunikorn-k8shim/blob/master/deployments/scheduler/admission-controller-rbac.yaml" target="_blank" rel="noopener noreferrer">admission-controller-rbac.yaml</a>.</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f scheduler/admission-controller-rbac.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar__2jc" id="create-the-secret">Create the Secret<a href="#create-the-secret" class="hash-link" aria-label="Direct link to Create the Secret" title="Direct link to Create the Secret">​</a></h2><p>Since the admission controller intercepts calls to the API server to validate/mutate incoming requests, we must deploy an empty secret
used by the webhook server to store TLS certificates and keys. See <a href="https://github.com/apache/yunikorn-k8shim/blob/master/deployments/scheduler/admission-controller-secrets.yaml" target="_blank" rel="noopener noreferrer">admission-controller-secrets.yaml</a>.</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f scheduler/admission-controller-secrets.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar__2jc" id="deploy-the-admission-controller">Deploy the Admission Controller<a href="#deploy-the-admission-controller" class="hash-link" aria-label="Direct link to Deploy the Admission Controller" title="Direct link to Deploy the Admission Controller">​</a></h2><p>Now we can deploy the admission controller as a service. This will automatically validate/modify incoming requests and objects, respectively, in accordance with the <a href="#Deploy-the-Scheduler">example in Deploy the Scheduler</a>. See the contents of the admission controller deployment and service in <a href="https://github.com/apache/yunikorn-k8shim/blob/master/deployments/scheduler/admission-controller.yaml" target="_blank" rel="noopener noreferrer">admission-controller.yaml</a>.</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create -f scheduler/admission-controller.yaml</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar__2jc" id="access-to-the-web-ui">Access to the web UI<a href="#access-to-the-web-ui" class="hash-link" aria-label="Direct link to Access to the web UI" title="Direct link to Access to the web UI">​</a></h2><p>When the scheduler is deployed, the web UI is also deployed in a container.
Port forwarding for the web interface on the standard ports can be turned on via:</p><div class="codeBlockContainer_NTqs theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_BEGa"><pre tabindex="0" class="prism-code language-text codeBlock_fFnK thin-scrollbar"><code class="codeBlockLines_zR5T"><span class="token-line" style="color:#bfc7d5"><span class="token plain">POD=`kubectl get pod -l app=yunikorn -o jsonpath=&quot;{.items[0].metadata.name}&quot;` &amp;&amp; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl port-forward ${POD} 9889 9080</span><br></span></code></pre><div class="buttonGroup_MoCm"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_g5X9" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_YlM3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Fltv"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>9889</code> is the default port for Web UI, <code>9080</code> is the default port of scheduler&#x27;s Restful service where web UI retrieves info from.
Once this is done, web UI will be available at: http://localhost:9889.</p><h2 class="anchor anchorWithStickyNavbar__2jc" id="configuration-hot-refresh">Configuration Hot Refresh<a href="#configuration-hot-refresh" class="hash-link" aria-label="Direct link to Configuration Hot Refresh" title="Direct link to Configuration Hot Refresh">​</a></h2><p>YuniKorn supports to load configuration changes automatically from attached configmap. Simply update the content in the configmap,
that can be done either via Kubernetes dashboard UI or commandline. <em>Note</em>, changes made to the configmap might have some
delay to be picked up by the scheduler.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/1.1.0/developer_guide/dependencies"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Go module updates</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/1.1.0/developer_guide/openshift_development"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Development in CodeReady Containers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TJ53 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#build-docker-image" class="table-of-contents__link toc-highlight">Build docker image</a></li><li><a href="#setup-rbac-for-scheduler" class="table-of-contents__link toc-highlight">Setup RBAC for Scheduler</a></li><li><a href="#create-the-configmap" class="table-of-contents__link toc-highlight">Create the ConfigMap</a></li><li><a href="#attach-configmap-to-the-scheduler-pod" class="table-of-contents__link toc-highlight">Attach ConfigMap to the Scheduler Pod</a></li><li><a href="#deploy-the-scheduler" class="table-of-contents__link toc-highlight">Deploy the Scheduler</a></li><li><a href="#setup-rbac-for-admission-controller" class="table-of-contents__link toc-highlight">Setup RBAC for Admission Controller</a></li><li><a href="#create-the-secret" class="table-of-contents__link toc-highlight">Create the Secret</a></li><li><a href="#deploy-the-admission-controller" class="table-of-contents__link toc-highlight">Deploy the Admission Controller</a></li><li><a href="#access-to-the-web-ui" class="table-of-contents__link toc-highlight">Access to the web UI</a></li><li><a href="#configuration-hot-refresh" class="table-of-contents__link toc-highlight">Configuration Hot Refresh</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.cloudera.com/yunikorn-a-universal-resources-scheduler/" target="_blank" rel="noopener noreferrer" class="footer__link-item">What&#x27;s YuniKorn?<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.cloudera.com/spark-on-kubernetes-gang-scheduling-with-yunikorn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Spark on Kubernetes – Gang Scheduling with YuniKorn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Code Repositories</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/yunikorn-core/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core scheduler<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-k8shim" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kubernetes shim<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-scheduler-interface" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scheduler Interface<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-web" target="_blank" rel="noopener noreferrer" class="footer__link-item">WEB application<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-site" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get_involved">Get Involved</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/1.1.0/developer_guide/community/people">People</a></li><li class="footer__item"><a href="https://issues.apache.org/jira/projects/YUNIKORN/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_CM8e"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
<div style="font-size: 70%">
Copyright © 2020-2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>. <br>
<div style="padding:20px; margin: 10px; color: #4d4d4d;">
<p>The Apache Software Foundation Apache YuniKorn, YuniKorn, Apache, the Apache feather, and the Apache YuniKorn project logo are either registered trademarks or trademarks of the Apache Software Foundation.</p>
</div>
</div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.773b31ce.js"></script>
<script src="/assets/js/main.cf8e51c0.js"></script>
</body>
</html>