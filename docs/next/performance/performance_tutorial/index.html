<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-performance/performance_tutorial" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Benchmarking Tutorial | Apache YuniKorn</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yunikorn.apache.org/img/logo/yunikorn-logo-main.png"><meta data-rh="true" name="twitter:image" content="https://yunikorn.apache.org/img/logo/yunikorn-logo-main.png"><meta data-rh="true" property="og:url" content="https://yunikorn.apache.org/docs/next/performance/performance_tutorial"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Benchmarking Tutorial | Apache YuniKorn"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><meta data-rh="true" name="keywords" content="performance,tutorial"><link data-rh="true" rel="icon" href="/img/yunikorn.ico"><link data-rh="true" rel="canonical" href="https://yunikorn.apache.org/docs/next/performance/performance_tutorial"><link data-rh="true" rel="alternate" href="https://yunikorn.apache.org/docs/next/performance/performance_tutorial" hreflang="en"><link data-rh="true" rel="alternate" href="https://yunikorn.apache.org/docs/next/performance/performance_tutorial" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q1V951BG2V-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apache YuniKorn" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.57f4caef.css">
<script src="/assets/js/runtime~main.377003fc.js" defer="defer"></script>
<script src="/assets/js/main.1ba8fec7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fIH8" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar__FTF" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarPlaceholder_wDNR"></div><div class="content_DgxC announcementBarContent_HmXy">1.5.1 has been released, check the <a href="/community/download">DOWNLOADS</a>.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_KmNL announcementBarClose_BG67"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo/yunikorn_blue_logo.png" alt="YuniKorn Site Logo" class="themedComponent_yzub themedComponent--light_pOwb"><img src="/img/logo/yunikorn_white_logo.png" alt="YuniKorn Site Logo" class="themedComponent_yzub themedComponent--dark_xdnF"></div><b class="navbar__title text--truncate">Apache YuniKorn</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/community/roadmap">Roadmap</a><a class="navbar__item navbar__link" href="/community/download">Download</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/community/get_involved">Get Involved</a></li><li><a class="dropdown__link" href="/community/how_to_contribute">How to Contribute</a></li><li><a class="dropdown__link" href="/community/coding_guidelines">Coding Guidelines</a></li><li><a class="dropdown__link" href="/community/reporting_issues">Reporting Issues</a></li><li><a class="dropdown__link" href="/community/release_procedure">Release Procedure</a></li><li><a class="dropdown__link" href="/community/events">Events</a></li><li><a class="dropdown__link" href="/community/people">People</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Apache</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Apache Software Foundation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/events/current-event" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsors<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Privacy Policy<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/performance/performance_tutorial">Next</a></li><li><a class="dropdown__link" href="/docs/performance/performance_tutorial">1.5.1</a></li><li><a class="dropdown__link" href="/docs/1.5.0/performance/performance_tutorial">1.5.0</a></li><li><a class="dropdown__link" href="/docs/1.4.0/performance/performance_tutorial">1.4.0</a></li><li><a class="dropdown__link" href="/docs/1.3.0/performance/performance_tutorial">1.3.0</a></li><li><a class="dropdown__link" href="/docs/1.2.0/performance/performance_tutorial">1.2.0</a></li><li><a class="dropdown__link" href="/docs/1.1.0/performance/performance_tutorial">1.1.0</a></li><li><a class="dropdown__link" href="/docs/1.0.0/performance/performance_tutorial">1.0.0</a></li><li><a class="dropdown__link" href="/docs/0.12.2/performance/performance_tutorial">0.12.2</a></li><li><a class="dropdown__link" href="/docs/0.12.1/performance/performance_tutorial">0.12.1</a></li><li><a class="dropdown__link" href="/docs/0.11.0/">0.11.0</a></li><li><a class="dropdown__link" href="/docs/0.10.0/">0.10.0</a></li><li><a class="dropdown__link" href="/docs/0.9.0/">0.9.0</a></li><li><a class="dropdown__link" href="/docs/0.8.0/">0.8.0</a></li></ul></div><a href="https://github.com/apache/yunikorn-core" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_CXxL colorModeToggle_r3Ku"><button class="clean-btn toggleButton_A2Gq toggleButtonDisabled_MBgh" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_ZNXA"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon__KEK"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_eonw"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_txSM"><div class="docsWrapper_aujV"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_fDTy" type="button"></button><div class="docRoot_ITF8"><aside class="theme-doc-sidebar-container docSidebarContainer_coE9"><div class="sidebarViewport_XDus"><div class="sidebar_duME"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_d40_ menuWithAnnouncementBar_QXd6"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/">Get Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/user_guide/deployment_modes">User Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/next/developer_guide/env_setup">Developer Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/next/performance/evaluate_perf_function_with_kubemark">Performance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/performance/evaluate_perf_function_with_kubemark">Evaluate YuniKorn Performance with Kubemark</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/performance/evaluate_perf_function_with_kwok">Evaluate YuniKorn Performance with KWOK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/performance/performance_tutorial">Benchmarking Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/performance/metrics">Scheduler Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/performance/profiling">Profiling</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_fQ9A"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_L8rf"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Apache YuniKorn<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/performance/performance_tutorial">latest version</a></b> (<!-- -->1.5.1<!-- -->).</div></div><div class="docItemContainer_J6oa"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer__4Nk" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_lw5W"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Performance</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Benchmarking Tutorial</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_hejs theme-doc-toc-mobile tocMobile_K3aG"><button type="button" class="clean-btn tocCollapsibleButton_a3TS">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Benchmarking Tutorial</h1></header><h2 class="anchor anchorWithStickyNavbar_NlAN" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The YuniKorn community continues to optimize the performance of the scheduler, ensuring that YuniKorn satisfies the performance requirements of large-scale batch workloads. Thus, the community has built some useful tools for performance benchmarking that can be reused across releases. This document introduces all these tools and steps to run them.</p>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="hardware">Hardware<a href="#hardware" class="hash-link" aria-label="Direct link to Hardware" title="Direct link to Hardware">​</a></h2>
<p>Be aware that performance result is highly variable depending on the underlying  hardware. All results published in the doc can only be used as references. We encourage each individual to run similar tests on their own environments in order to get a result based on your own hardware. This doc is just for demonstration purpose.</p>
<p>A list of servers being used in this test are (Huge thanks to <a href="http://www.ntcu.edu.tw/newweb/index.htm" target="_blank" rel="noopener noreferrer">National Taichung University of Education</a>, <a href="http://www.ntcu.edu.tw/kclai/" target="_blank" rel="noopener noreferrer">Kuan-Chou Lai</a> for providing these servers for running tests):</p>
<table><thead><tr><th>Manchine Type</th><th>CPU</th><th>Memory</th><th>Download/upload(Mbps)</th></tr></thead><tbody><tr><td>HP</td><td>16</td><td>36G</td><td>525.74/509.86</td></tr><tr><td>HP</td><td>16</td><td>30G</td><td>564.84/461.82</td></tr><tr><td>HP</td><td>16</td><td>30G</td><td>431.06/511.69</td></tr><tr><td>HP</td><td>24</td><td>32G</td><td>577.31/576.21</td></tr><tr><td>IBM blade H22</td><td>16</td><td>38G</td><td>432.11/4.15</td></tr><tr><td>IBM blade H22</td><td>16</td><td>36G</td><td>714.84/4.14</td></tr><tr><td>IBM blade H22</td><td>16</td><td>42G</td><td>458.38/4.13</td></tr><tr><td>IBM blade H22</td><td>16</td><td>42G</td><td>445.42/4.13</td></tr><tr><td>IBM blade H22</td><td>16</td><td>32G</td><td>400.59/4.13</td></tr><tr><td>IBM blade H22</td><td>16</td><td>12G</td><td>499.87/4.13</td></tr><tr><td>IBM blade H23</td><td>8</td><td>32G</td><td>468.51/4.14</td></tr><tr><td>WS660T</td><td>8</td><td>16G</td><td>87.73/86.30</td></tr><tr><td>ASUSPRO D640MB_M640SA</td><td>4</td><td>8G</td><td>92.43/93.77</td></tr><tr><td>PRO E500 G6_WS720T</td><td>16</td><td>8G</td><td>90/87.18</td></tr><tr><td>WS E500 G6_WS720T</td><td>8</td><td>40G</td><td>92.61/89.78</td></tr><tr><td>E500 G5</td><td>8</td><td>8G</td><td>91.34/85.84</td></tr><tr><td>WS E500 G5_WS690T</td><td>12</td><td>16G</td><td>92.2/93.76</td></tr><tr><td>WS E500 G5_WS690T</td><td>8</td><td>32G</td><td>91/89.41</td></tr><tr><td>WS E900 G4_SW980T</td><td>80</td><td>512G</td><td>89.24/87.97</td></tr></tbody></table>
<p>The following steps are needed for each server, otherwise the large scale testing may fail due to the limited number of users/processes/open-files.</p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="1-set-etcsysctlconf">1. Set /etc/sysctl.conf<a href="#1-set-etcsysctlconf" class="hash-link" aria-label="Direct link to 1. Set /etc/sysctl.conf" title="Direct link to 1. Set /etc/sysctl.conf">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kernel.pid_max=400000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs.inotify.max_user_instances=50000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">fs.inotify.max_user_watches=52094</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="2-set-etcsecuritylimitsconf">2. Set /etc/security/limits.conf<a href="#2-set-etcsecuritylimitsconf" class="hash-link" aria-label="Direct link to 2. Set /etc/security/limits.conf" title="Direct link to 2. Set /etc/security/limits.conf">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">* soft nproc 4000000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* hard nproc 4000000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">root soft nproc 4000000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">root hard nproc 4000000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* soft nofile 50000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* hard nofile 50000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">root soft nofile 50000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">root hard nofile 50000</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="deploy-workflow">Deploy workflow<a href="#deploy-workflow" class="hash-link" aria-label="Direct link to Deploy workflow" title="Direct link to Deploy workflow">​</a></h2>
<p>Before going into the details, here are the general steps used in our tests:</p>
<ul>
<li><a href="#Kubernetes">Step 1</a>: Properly configure Kubernetes API server and controller manager, then add worker nodes.</li>
<li><a href="#Setup-Kubemark">Step 2</a>: Deploy hollow pods,which will simulate worker nodes, name hollow nodes. After all hollow nodes in ready status, we need to cordon all native nodes, which are physical presence in the cluster, not the simulated nodes, to avoid we allocated test workload pod to native nodes.</li>
<li><a href="#Deploy-YuniKorn">Step 3</a>: Deploy YuniKorn using the Helm chart on the master node, and scale down the Deployment to 0 replica, and <a href="#Setup-Prometheus">modify the port</a> in <code>prometheus.yml</code> to match the port of the service.</li>
<li><a href="#Run-tests">Step 4</a>: Deploy 50k Nginx pods for testing, and the API server will create them. But since the YuniKorn scheduler Deployment has been scaled down to 0 replica, all Nginx pods will be stuck in pending.</li>
<li><a href="/docs/next/user_guide/troubleshooting#restart-the-scheduler">Step 5</a>: Scale up The YuniKorn Deployment back to 1 replica, and cordon the master node to avoid YuniKorn allocating Nginx pods there. In this step, YuniKorn will start collecting the metrics.</li>
<li><a href="#Collect-and-Observe-YuniKorn-metrics">Step 6</a>: Observe the metrics exposed in Prometheus UI.</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="setup-kubemark">Setup Kubemark<a href="#setup-kubemark" class="hash-link" aria-label="Direct link to Setup Kubemark" title="Direct link to Setup Kubemark">​</a></h2>
<p><a href="https://github.com/kubernetes/kubernetes/tree/master/test/kubemark" target="_blank" rel="noopener noreferrer">Kubemark</a> is a performance testing tool which allows users to run experiments on simulated clusters. The primary use case is the scalability testing. The basic idea is to run tens or hundreds of fake kubelet nodes on one physical node in order to simulate large scale clusters. In our tests, we leverage Kubemark to simulate up to a 4K-node cluster on less than 20 physical nodes.</p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="1-build-image">1. Build image<a href="#1-build-image" class="hash-link" aria-label="Direct link to 1. Build image" title="Direct link to 1. Build image">​</a></h3>
<h5 class="anchor anchorWithStickyNavbar_NlAN" id="clone-kubernetes-repo-and-build-kubemark-binary-file">Clone kubernetes repo, and build kubemark binary file<a href="#clone-kubernetes-repo-and-build-kubemark-binary-file" class="hash-link" aria-label="Direct link to Clone kubernetes repo, and build kubemark binary file" title="Direct link to Clone kubernetes repo, and build kubemark binary file">​</a></h5>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/kubernetes/kubernetes.git</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd kubernetes</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">KUBE_BUILD_PLATFORMS=linux/amd64 make kubemark GOFLAGS=-v GOGCFLAGS=&quot;-N -l&quot;</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_NlAN" id="copy-kubemark-binary-file-to-the-image-folder-and-build-kubemark-docker-image">Copy kubemark binary file to the image folder and build kubemark docker image<a href="#copy-kubemark-binary-file-to-the-image-folder-and-build-kubemark-docker-image" class="hash-link" aria-label="Direct link to Copy kubemark binary file to the image folder and build kubemark docker image" title="Direct link to Copy kubemark binary file to the image folder and build kubemark docker image">​</a></h5>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cp _output/bin/kubemark cluster/images/kubemark</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">IMAGE_TAG=v1.XX.X make build</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After this step, you can get the kubemark image which can simulate cluster node. You can upload it to Docker-Hub or just deploy it locally.</p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="2-install-kubermark">2. Install Kubermark<a href="#2-install-kubermark" class="hash-link" aria-label="Direct link to 2. Install Kubermark" title="Direct link to 2. Install Kubermark">​</a></h3>
<h5 class="anchor anchorWithStickyNavbar_NlAN" id="create-kubemark-namespace">Create kubemark namespace<a href="#create-kubemark-namespace" class="hash-link" aria-label="Direct link to Create kubemark namespace" title="Direct link to Create kubemark namespace">​</a></h5>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create ns kubemark</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_NlAN" id="create-configmap">Create configmap<a href="#create-configmap" class="hash-link" aria-label="Direct link to Create configmap" title="Direct link to Create configmap">​</a></h5>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create configmap node-configmap -n kubemark --from-literal=content.type=&quot;test-cluster&quot;</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h5 class="anchor anchorWithStickyNavbar_NlAN" id="create-secret">Create secret<a href="#create-secret" class="hash-link" aria-label="Direct link to Create secret" title="Direct link to Create secret">​</a></h5>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create secret generic kubeconfig --type=Opaque --namespace=kubemark --from-file=kubelet.kubeconfig={kubeconfig_file_path} --from-file=kubeproxy.kubeconfig={kubeconfig_file_path}</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="3-label-node">3. Label node<a href="#3-label-node" class="hash-link" aria-label="Direct link to 3. Label node" title="Direct link to 3. Label node">​</a></h3>
<p>We need to label all native nodes, otherwise the scheduler might allocate hollow pods to other simulated hollow nodes. We can leverage Node selector in yaml to allocate hollow pods to native nodes.</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl label node {node name} tag=tagName</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="4-deploy-kubemark">4. Deploy Kubemark<a href="#4-deploy-kubemark" class="hash-link" aria-label="Direct link to 4. Deploy Kubemark" title="Direct link to 4. Deploy Kubemark">​</a></h3>
<p>The hollow-node.yaml is down below, there are some parameters we can configure.</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">apiVersion: v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kind: ReplicationController</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name: hollow-node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  namespace: kubemark</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  replicas: 2000  # the node number you want to simulate</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  selector:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name: hollow-node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  template:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    metadata:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      labels:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        name: hollow-node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    spec:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      nodeSelector:  # leverage label to allocate to native node</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        tag: tagName  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      initContainers:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name: init-inotify-limit</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: docker.io/busybox:latest</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        imagePullPolicy: IfNotPresent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        command: [&#x27;sysctl&#x27;, &#x27;-w&#x27;, &#x27;fs.inotify.max_user_instances=200&#x27;] # set as same as max_user_instance in actual node </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        securityContext:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          privileged: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      volumes:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name: kubeconfig-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        secret:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          secretName: kubeconfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name: logs-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        hostPath:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          path: /var/log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      containers:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name: hollow-kubelet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: 0yukali0/kubemark:1.20.10 # the kubemark image you build </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        imagePullPolicy: IfNotPresent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ports:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - containerPort: 4194</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - containerPort: 10250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - containerPort: 10255</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        env:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: NODE_NAME</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          valueFrom:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldRef:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              fieldPath: metadata.name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        command:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - /kubemark</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        args:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --morph=kubelet</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --name=$(NODE_NAME)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --kubeconfig=/kubeconfig/kubelet.kubeconfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --alsologtostderr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --v=2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        volumeMounts:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: kubeconfig-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          mountPath: /kubeconfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          readOnly: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: logs-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          mountPath: /var/log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        resources:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          requests:    # the resource of hollow pod, can modify it.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            cpu: 20m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            memory: 50M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        securityContext:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          privileged: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name: hollow-proxy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: 0yukali0/kubemark:1.20.10 # the kubemark image you build </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        imagePullPolicy: IfNotPresent</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        env:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: NODE_NAME</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          valueFrom:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            fieldRef:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              fieldPath: metadata.name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        command:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - /kubemark</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        args:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --morph=proxy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --name=$(NODE_NAME)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --use-real-proxier=false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --kubeconfig=/kubeconfig/kubeproxy.kubeconfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --alsologtostderr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - --v=2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        volumeMounts:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: kubeconfig-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          mountPath: /kubeconfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          readOnly: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: logs-volume</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          mountPath: /var/log</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        resources:  # the resource of hollow pod, can modify it.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          requests:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            cpu: 20m</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            memory: 50M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      tolerations:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - effect: NoExecute</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        key: node.kubernetes.io/unreachable</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator: Exists</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - effect: NoExecute</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        key: node.kubernetes.io/not-ready</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        operator: Exists</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>once done editing, apply it to the cluster:</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f hollow-node.yaml</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="deploy-yunikorn">Deploy YuniKorn<a href="#deploy-yunikorn" class="hash-link" aria-label="Direct link to Deploy YuniKorn" title="Direct link to Deploy YuniKorn">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="install-yunikorn-with-helm">Install YuniKorn with helm<a href="#install-yunikorn-with-helm" class="hash-link" aria-label="Direct link to Install YuniKorn with helm" title="Direct link to Install YuniKorn with helm">​</a></h4>
<p>We can install YuniKorn with Helm, please refer to this <a href="https://yunikorn.apache.org/docs/#install" target="_blank" rel="noopener noreferrer">doc</a>.
We need to tune some parameters based on the default configuration. We recommend to clone the <a href="https://github.com/apache/yunikorn-release" target="_blank" rel="noopener noreferrer">release repo</a> and modify the parameters in <code>value.yaml</code>.</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/apache/yunikorn-release.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd helm-charts/yunikorn</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h4>
<p>The modifications in the <code>value.yaml</code> are:</p>
<ul>
<li>increased memory/cpu resources for the scheduler pod</li>
<li>disabled the admission controller</li>
<li>set the app sorting policy to FAIR</li>
</ul>
<p>please see the changes below:</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">resources:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  requests:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cpu: 14</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    memory: 16Gi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  limits:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    cpu: 14</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    memory: 16Gi</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">embedAdmissionController: false</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">configuration: |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  partitions:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    -</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name: default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      queues:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - name: root</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          submitacl: &#x27;*&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          queues:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            -</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              name: sandbox</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              properties:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                application.sort.policy: fair</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="install-yunikorn-with-local-release-repo">Install YuniKorn with local release repo<a href="#install-yunikorn-with-local-release-repo" class="hash-link" aria-label="Direct link to Install YuniKorn with local release repo" title="Direct link to Install YuniKorn with local release repo">​</a></h4>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Helm install yunikorn . --namespace yunikorn</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="setup-prometheus">Setup Prometheus<a href="#setup-prometheus" class="hash-link" aria-label="Direct link to Setup Prometheus" title="Direct link to Setup Prometheus">​</a></h2>
<p>YuniKorn exposes its scheduling metrics via Prometheus. Thus, we need to set up a Prometheus server to collect these metrics.</p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="1-download-prometheus-release">1. Download Prometheus release<a href="#1-download-prometheus-release" class="hash-link" aria-label="Direct link to 1. Download Prometheus release" title="Direct link to 1. Download Prometheus release">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">wget https://github.com/prometheus/prometheus/releases/download/v2.30.3/prometheus-2.30.3.linux-amd64.tar.gz</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">tar xvfz prometheus-*.tar.gz</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd prometheus-*</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="2-configure-prometheusyml">2. Configure prometheus.yml<a href="#2-configure-prometheusyml" class="hash-link" aria-label="Direct link to 2. Configure prometheus.yml" title="Direct link to 2. Configure prometheus.yml">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">global:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  scrape_interval:     3s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  evaluation_interval: 15s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">scrape_configs:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - job_name: &#x27;yunikorn&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    scrape_interval: 1s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    metrics_path: &#x27;/ws/v1/metrics&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    static_configs:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - targets: [&#x27;docker.for.mac.host.internal:9080&#x27;] </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # 9080 is internal port, need port forward or modify 9080 to service&#x27;s port</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="3-launch-prometheus">3. Launch Prometheus<a href="#3-launch-prometheus" class="hash-link" aria-label="Direct link to 3. Launch Prometheus" title="Direct link to 3. Launch Prometheus">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./prometheus --config.file=prometheus.yml</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="run-tests">Run tests<a href="#run-tests" class="hash-link" aria-label="Direct link to Run tests" title="Direct link to Run tests">​</a></h2>
<p>Once the environment is setup, you are good to run workloads and collect results. YuniKorn community has some useful tools to run workloads and collect metrics, more details will be published here.</p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="1-scenarios">1. Scenarios<a href="#1-scenarios" class="hash-link" aria-label="Direct link to 1. Scenarios" title="Direct link to 1. Scenarios">​</a></h3>
<p>In performance tools, there are three types of tests and feedbacks.</p>
<table><thead><tr><th>Test type</th><th>Description</th><th>Diagram</th><th>Log</th></tr></thead><tbody><tr><td>node fairness</td><td>Monitor node resource usage(allocated/capicity) with lots of pods requests</td><td>Exist</td><td>Exist</td></tr><tr><td>thourghput</td><td>Measure schedulers&#x27; throughput by calculating how many pods are allocated per second based on the pod start time</td><td>Exist</td><td>None</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="2-build-tool">2. Build tool<a href="#2-build-tool" class="hash-link" aria-label="Direct link to 2. Build tool" title="Direct link to 2. Build tool">​</a></h3>
<p>The performance tool is available in <a href="https://github.com/apache/yunikorn-release.git" target="_blank" rel="noopener noreferrer">yunikorn release repo</a>,clone the repo to your workspace.</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">git clone https://github.com/apache/yunikorn-release.git</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Build the tool:</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd yunikorn-release/perf-tools/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">make build</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cd target/perf-tools-bin</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It will look like this.
<img decoding="async" loading="lazy" alt="Build-perf-tools" src="/assets/images/perf-tutorial-build-0ec1ae29206bea70c36aafa6b2048f81.png" width="734" height="236" class="img_qdMO"></p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="3-set-test-configuration">3. Set test configuration<a href="#3-set-test-configuration" class="hash-link" aria-label="Direct link to 3. Set test configuration" title="Direct link to 3. Set test configuration">​</a></h3>
<p>Before start tests, check configuration whether meet your except.
Default output path is <code>/tmp</code>, you can modify <code>common.outputrootpath</code> to change it.
If you set these fields with large number to cause timeout problem, increase value in <code>common.maxwaitseconds</code> to allow it.</p>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="throughput-case">Throughput case<a href="#throughput-case" class="hash-link" aria-label="Direct link to Throughput case" title="Direct link to Throughput case">​</a></h4>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>SchedulerNames</td><td>List of scheduler will run the test</td></tr><tr><td>ShowNumOfLastTasks</td><td>Show metadata of last number of pods</td></tr><tr><td>CleanUpDelayMs</td><td>Controll period to refresh deployments status and print log</td></tr><tr><td>RequestConfigs</td><td>Set resource request and decide number of deployments and pods per deployment with <code>repeat</code> and <code>numPods</code></td></tr></tbody></table>
<p>In this case,yunikorn and default scheduler will sequentially separately create ten deployments which contains fifty pods.
It will look like these.
<img decoding="async" loading="lazy" alt="throughputConf" src="/assets/images/throughput_conf-ead602c00872af731d09b5f44155ae7c.png" width="277" height="304" class="img_qdMO">
<img decoding="async" loading="lazy" alt="ThroughputDeployment" src="/assets/images/perf_throughput-d33f58788b48363eeb7957d47b519e64.png" width="709" height="210" class="img_qdMO"></p>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="node-fairness-case">Node fairness case<a href="#node-fairness-case" class="hash-link" aria-label="Direct link to Node fairness case" title="Direct link to Node fairness case">​</a></h4>
<table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>SchedulerNames</td><td>List of schduler will run the test</td></tr><tr><td>NumPodsPerNode</td><td>It equals that total pods divided by nodes</td></tr><tr><td>AllocatePercentage</td><td>Allow how much percentage of allocatable resource is allowed to allocate</td></tr></tbody></table>
<p>Total number of pods will be multiplication of number of ready nodes and <code>NumPodsPerNode</code>.
In following figure, there are thirteen ready nodes and <code>NumPodsPerNode</code> is eighty.
There will be one thousand fourty pods created.
<img decoding="async" loading="lazy" alt="nodeFairnessConf" src="/assets/images/node_fairness_conf-26b753a27be63a7426b01f64ace56505.png" width="274" height="144" class="img_qdMO">
<img decoding="async" loading="lazy" alt="nodeFairnessDeployment" src="/assets/images/perf_node_fairness-4c8e958d39aef3251cb538371c9486c9.png" width="696" height="354" class="img_qdMO"></p>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="e2e-perf-case">e2e perf case<a href="#e2e-perf-case" class="hash-link" aria-label="Direct link to e2e perf case" title="Direct link to e2e perf case">​</a></h4>
<p>Its field is similar to throughput one but there is only scheduler in each case.
<img decoding="async" loading="lazy" alt="scheduleTestConf" src="/assets/images/perf_e2e_test_conf-3afbe37f5dbe7062964060032337c2ea.png" width="356" height="274" class="img_qdMO">
<img decoding="async" loading="lazy" alt="scheduleTest" src="data:image/png;base64,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" width="419" height="84" class="img_qdMO"></p>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="4-diagrams-and-logs">4. Diagrams and logs<a href="#4-diagrams-and-logs" class="hash-link" aria-label="Direct link to 4. Diagrams and logs" title="Direct link to 4. Diagrams and logs">​</a></h3>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./perf-tools</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="it-will-show-result-log-when-each-case-finishedwhen-tests-finished-it-will-look-likeresult-logwe-can-find-result-diagrams-and-logs-in-commonoutputrootpath-which-is-in-confyamlrelated-diagrams-and-logs-will-be-like-thisresult-diagrams-and-logs">It will show result log when each case finished.
When tests finished, it will look like
<img decoding="async" loading="lazy" alt="Result log" src="/assets/images/perf-tutorial-resultLog-3fe5dc66d81e01ef72075a5047114e7e.png" width="1747" height="530" class="img_qdMO">
We can find result diagrams and logs in <code>common.outputrootpath</code> which is in conf.yaml.
Related diagrams and logs will be like this.
<img decoding="async" loading="lazy" alt="Result diagrams and logs" src="/assets/images/perf-tutorial-resultDiagrams-9b91b996e4d58b60a61b8589885abe03.png" width="1613" height="1000" class="img_qdMO"><a href="#it-will-show-result-log-when-each-case-finishedwhen-tests-finished-it-will-look-likeresult-logwe-can-find-result-diagrams-and-logs-in-commonoutputrootpath-which-is-in-confyamlrelated-diagrams-and-logs-will-be-like-thisresult-diagrams-and-logs" class="hash-link" aria-label="Direct link to it-will-show-result-log-when-each-case-finishedwhen-tests-finished-it-will-look-likeresult-logwe-can-find-result-diagrams-and-logs-in-commonoutputrootpath-which-is-in-confyamlrelated-diagrams-and-logs-will-be-like-thisresult-diagrams-and-logs" title="Direct link to it-will-show-result-log-when-each-case-finishedwhen-tests-finished-it-will-look-likeresult-logwe-can-find-result-diagrams-and-logs-in-commonoutputrootpath-which-is-in-confyamlrelated-diagrams-and-logs-will-be-like-thisresult-diagrams-and-logs">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="collect-and-observe-yunikorn-metrics">Collect and Observe YuniKorn metrics<a href="#collect-and-observe-yunikorn-metrics" class="hash-link" aria-label="Direct link to Collect and Observe YuniKorn metrics" title="Direct link to Collect and Observe YuniKorn metrics">​</a></h2>
<p>After Prometheus is launched, YuniKorn metrics can be easily collected. Here is the <a href="/docs/next/performance/metrics">docs</a> of YuniKorn metrics. YuniKorn tracks some key scheduling metrics which measure the latency of some critical scheduling paths. These metrics include:</p>
<ul>
<li><strong>scheduling_latency_seconds:</strong> Latency of the main scheduling routine, in seconds.</li>
<li><strong>app_sorting_latency_seconds</strong>: Latency of all applications sorting, in seconds.</li>
<li><strong>node_sorting_latency_seconds</strong>: Latency of all nodes sorting, in seconds.</li>
<li><strong>queue_sorting_latency_seconds</strong>: Latency of all queues sorting, in seconds.</li>
<li><strong>container_allocation_attempt_total</strong>: Total number of attempts to allocate containers. State of the attempt includes <code>allocated</code>, <code>rejected</code>, <code>error</code>, <code>released</code>. Increase only.</li>
</ul>
<p>you can select and generate graph on Prometheus UI easily, such as:</p>
<p><img decoding="async" loading="lazy" alt="Prometheus Metrics List" src="/assets/images/prometheus-3765d2ddd0d81ce31bc9c0d44046aac6.png" width="1189" height="640" class="img_qdMO"></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="performance-tuning">Performance Tuning<a href="#performance-tuning" class="hash-link" aria-label="Direct link to Performance Tuning" title="Direct link to Performance Tuning">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_NlAN" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Direct link to Kubernetes" title="Direct link to Kubernetes">​</a></h3>
<p>The default K8s setup has limited concurrent requests which limits the overall throughput of the cluster. In this section, we introduced a few parameters that need to be tuned up in order to increase the overall throughput of the cluster.</p>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="kubeadm">kubeadm<a href="#kubeadm" class="hash-link" aria-label="Direct link to kubeadm" title="Direct link to kubeadm">​</a></h4>
<p>Set pod-network mask</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubeadm init --pod-network-cidr=10.244.0.0/8</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="cni">CNI<a href="#cni" class="hash-link" aria-label="Direct link to CNI" title="Direct link to CNI">​</a></h4>
<p>Modify CNI mask and resources.</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  net-conf.json: |</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;Network&quot;: &quot;10.244.0.0/8&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;Backend&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;Type&quot;: &quot;vxlan&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  resources:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    requests:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      cpu: &quot;100m&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      memory: &quot;200Mi&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    limits:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      cpu: &quot;100m&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      memory: &quot;200Mi&quot;</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="api-server">Api-Server<a href="#api-server" class="hash-link" aria-label="Direct link to Api-Server" title="Direct link to Api-Server">​</a></h4>
<p>In the Kubernetes API server, we need to modify two parameters: <code>max-mutating-requests-inflight</code> and <code>max-requests-inflight</code>. Those two parameters represent the API request bandwidth. Because we will generate a large amount of pod request, we need to increase those two parameters. Modify <code>/etc/kubernetes/manifest/kube-apiserver.yaml</code>:</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">--max-mutating-requests-inflight=3000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--max-requests-inflight=3000</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="controller-manager">Controller-Manager<a href="#controller-manager" class="hash-link" aria-label="Direct link to Controller-Manager" title="Direct link to Controller-Manager">​</a></h4>
<p>In the Kubernetes controller manager, we need to increase the value of three parameters: <code>node-cidr-mask-size</code>, <code>kube-api-burst</code> and <code>kube-api-qps</code>. <code>kube-api-burst</code> and <code>kube-api-qps</code> control the server side request bandwidth. <code>node-cidr-mask-size</code> represents the node CIDR. it needs to be increased as well in order to scale up to thousands of nodes.</p>
<p>Modify <code>/etc/kubernetes/manifest/kube-controller-manager.yaml</code>:</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">--node-cidr-mask-size=21 //log2(max number of pods in cluster)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--kube-api-burst=3000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">--kube-api-qps=3000</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_NlAN" id="kubelet">kubelet<a href="#kubelet" class="hash-link" aria-label="Direct link to kubelet" title="Direct link to kubelet">​</a></h4>
<p>In single worker node, we can run 110 pods as default. But to get higher node resource utilization, we need to add some parameters in Kubelet launch command, and restart it.</p>
<p>Modify start arg in <code>/etc/systemd/system/kubelet.service.d/10-kubeadm.conf</code>, add <code>--max-Pods=300</code> behind the start arg and restart</p>
<div class="codeBlockContainer_l7z8 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_N19i"><pre tabindex="0" class="prism-code language-text codeBlock_adB6 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_fSw7"><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl daemon-reload</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl restart kubelet</span><br></span></code></pre><div class="buttonGroup_ZiWg"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Gl1a" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_mJ2i"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_rLlY"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_NlAN" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2>
<p>With Kubemark and Prometheus, we can easily run benchmark testing, collect YuniKorn metrics and analyze the performance. This helps us to identify the performance bottleneck in the scheduler and further eliminate them. The YuniKorn community will continue to improve these tools in the future, and continue to gain more performance improvements.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/performance/evaluate_perf_function_with_kwok"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Evaluate YuniKorn Performance with KWOK</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/performance/metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Scheduler Metrics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_odww thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a><ul><li><a href="#1-set-etcsysctlconf" class="table-of-contents__link toc-highlight">1. Set /etc/sysctl.conf</a></li><li><a href="#2-set-etcsecuritylimitsconf" class="table-of-contents__link toc-highlight">2. Set /etc/security/limits.conf</a></li></ul></li><li><a href="#deploy-workflow" class="table-of-contents__link toc-highlight">Deploy workflow</a></li><li><a href="#setup-kubemark" class="table-of-contents__link toc-highlight">Setup Kubemark</a><ul><li><a href="#1-build-image" class="table-of-contents__link toc-highlight">1. Build image</a></li><li><a href="#2-install-kubermark" class="table-of-contents__link toc-highlight">2. Install Kubermark</a></li><li><a href="#3-label-node" class="table-of-contents__link toc-highlight">3. Label node</a></li><li><a href="#4-deploy-kubemark" class="table-of-contents__link toc-highlight">4. Deploy Kubemark</a></li></ul></li><li><a href="#deploy-yunikorn" class="table-of-contents__link toc-highlight">Deploy YuniKorn</a></li><li><a href="#setup-prometheus" class="table-of-contents__link toc-highlight">Setup Prometheus</a><ul><li><a href="#1-download-prometheus-release" class="table-of-contents__link toc-highlight">1. Download Prometheus release</a></li><li><a href="#2-configure-prometheusyml" class="table-of-contents__link toc-highlight">2. Configure prometheus.yml</a></li><li><a href="#3-launch-prometheus" class="table-of-contents__link toc-highlight">3. Launch Prometheus</a></li></ul></li><li><a href="#run-tests" class="table-of-contents__link toc-highlight">Run tests</a><ul><li><a href="#1-scenarios" class="table-of-contents__link toc-highlight">1. Scenarios</a></li><li><a href="#2-build-tool" class="table-of-contents__link toc-highlight">2. Build tool</a></li><li><a href="#3-set-test-configuration" class="table-of-contents__link toc-highlight">3. Set test configuration</a></li><li><a href="#4-diagrams-and-logs" class="table-of-contents__link toc-highlight">4. Diagrams and logs</a></li></ul></li><li><a href="#it-will-show-result-log-when-each-case-finishedwhen-tests-finished-it-will-look-likeresult-logwe-can-find-result-diagrams-and-logs-in-commonoutputrootpath-which-is-in-confyamlrelated-diagrams-and-logs-will-be-like-thisresult-diagrams-and-logs" class="table-of-contents__link toc-highlight">It will show result log when each case finished.
When tests finished, it will look like
Result log
We can find result diagrams and logs in <code>common.outputrootpath</code> which is in conf.yaml.
Related diagrams and logs will be like this.
Result diagrams and logs</a></li><li><a href="#collect-and-observe-yunikorn-metrics" class="table-of-contents__link toc-highlight">Collect and Observe YuniKorn metrics</a></li><li><a href="#performance-tuning" class="table-of-contents__link toc-highlight">Performance Tuning</a><ul><li><a href="#kubernetes" class="table-of-contents__link toc-highlight">Kubernetes</a></li></ul></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.cloudera.com/yunikorn-a-universal-resources-scheduler/" target="_blank" rel="noopener noreferrer" class="footer__link-item">What&#x27;s YuniKorn?<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.cloudera.com/spark-on-kubernetes-gang-scheduling-with-yunikorn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Spark on Kubernetes – Gang Scheduling with YuniKorn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Code Repositories</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/apache/yunikorn-core/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Core scheduler<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-k8shim" target="_blank" rel="noopener noreferrer" class="footer__link-item">Kubernetes shim<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-scheduler-interface" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scheduler Interface<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-web" target="_blank" rel="noopener noreferrer" class="footer__link-item">WEB application<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apache/yunikorn-site" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/get_involved">Get Involved</a></li><li class="footer__item"><a class="footer__link-item" href="/community/people">People</a></li><li class="footer__item"><a href="https://issues.apache.org/jira/projects/YUNIKORN/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_n0Rw"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
<div style="font-size: 70%">
Copyright © 2020-2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>. <br>
<div style="padding:20px; margin: 10px; color: #4d4d4d;">
<p>The Apache Software Foundation Apache YuniKorn, YuniKorn, Apache, the Apache feather, and the Apache YuniKorn project logo are either registered trademarks or trademarks of the Apache Software Foundation.</p>
</div>
</div></div></div></div></footer></div>
</body>
</html>